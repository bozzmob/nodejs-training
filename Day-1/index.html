<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Scheduler Demo</title>
    <script>
        (function() {
            window.addEventListener("DOMContentLoaded", init);

            var btnDoWork = null,
                divMessages = null;

            function init() {
                btnDoWork = document.getElementById("btnDoWork");
                btnDoWork.addEventListener("click", onBtnDoWorkClick);

                divMessages = document.getElementById("divMessages");
            }

            function onBtnDoWorkClick() {
                displayMessage("Work started..!");
                setTimeout(triggerWork);
            }

            function triggerWork() {
                doWork();
                displayMessage("Work completed..!");
            }

            function displayMessage(msg) {
                divMessages.innerHTML += msg + "<br/>";
            }

            function doWork() {
                var totalIterations = 1000,
                    currentIteration = 0;

                function oneIteration() {
                    for (var i = 0; i < 10000 / totalIterations; i++)
                        for (var j = 0; j < 10000; j++)
                            for (var k = 0; k < 100; k++) {

                            }
                            ++currentIteration;
                    if (currentIteration < totalIterations) {
                        setTimeout(oneIteration);
                    } else {
                        console.log("Job Done");
                    }
                }
                oneIteration();
            }

        })();
    </script>
</head>

<body>
    <input type="text" id="ipBox">
    <input type="button" value="Do Work" id="btnDoWork">
    <div id="divMessages"></div>
</body>

</html>